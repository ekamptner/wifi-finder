!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=74)}([function(e){e.exports=jQuery},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(4)),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.container=(0,a.default)(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"getContainer",value:function(){return this.container}},{key:"find",value:function(e){return this.getContainer().find(e)}},{key:"append",value:function(e){return this.getContainer().append((0,a.default)(e))}}]),t}();t.default=u},function(e,t,n){"use strict";(function(e){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),a=o(n(28));a.default.defs("EPSG:2263","+proj=lcc +lat_1=41.03333333333333 +lat_2=40.66666666666666 +lat_0=40.16666666666666 +lon_0=-74 +x_0=300000.0000000001 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=ft +to_meter=0.3048006096012192 +no_defs"),a.default.defs("EPSG:6539","+proj=lcc +lat_1=40.66666666666666 +lat_2=41.03333333333333 +lat_0=40.16666666666666 +lon_0=-74 +x_0=300000 +y_0=0 +ellps=GRS80 +units=us-ft +no_defs"),e.proj4=a.default;var i={inherits:function(e,t){i.copyFromParentProperties(e.prototype,t.prototype)},subclass:function(e,t){var n=Object.getPrototypeOf(t);i.copyFromParentProperties(e,n),i.copyFromParentKeys(e,t)},mixin:function(e,t){t.forEach(function(t){r.default.extend(e,t)})},copyFromParentProperties:function(e,t){Object.getOwnPropertyNames(t).forEach(function(n){n in e||(e[n]=t[n])})},copyFromParentKeys:function(e,t){Object.keys(t).forEach(function(n){n in e||(e[n]=t[n])})},capitalize:function(e){var t="";return e.split(" ").forEach(function(e){var n=e.toLowerCase();t+=n.substr(0,1).toUpperCase(),t+=n.substr(1).toLowerCase(),t+=" "}),t.trim()},nextId:function(e){var t=i.uniqueIds[e];return i.uniqueIds[e]="number"==typeof t?t+1:0,e+"-"+i.uniqueIds[e]},html:function(e){if("function"==typeof e.html)return(0,r.default)(e.html());var t=(0,r.default)('<div class="nyc-html"></div>');return e.getProperties?e=e.getProperties():e.properties&&(e=e.properties),Object.keys(e).forEach(function(n){t.append('<div><span class="fld">'+n+'</span><span class="val">'+e[n]+"</span></div>")}),t},loading:function(e){e.hasClass("loading")&&e.append((0,r.default)("#loading").get(0)||i.LOADING_HTML)},ready:function(e){(0,r.default)(e||(0,r.default)("body")).removeClass("loading").attr("aria-hidden",!1),(0,r.default)("#loading").fadeOut()},uniqueIds:{},LOADING_HTML:'<div id="loading"><div><svg xmlns="http://www.w3.org/2000/svg" width="152" height="52"><g transform="translate(1.5,0)"><polygon points="15.5,1.2 3.1,1.2 0,4.3 0,47.7 3.1,50.8 15.5,50.8 18.6,47.7 18.6,35.3 34.1,50.8 46.6,50.8 49.7,47.7 49.7,4.3 46.6,1.2 34.1,1.2 31,4.3 31,16.7 "/><polygon points="83.8,47.7 83.8,38.4 99.3,22.9 99.3,10.5 99.3,4.3 96.2,1.2 83.8,1.2 80.7,4.3 80.7,10.5 74.5,16.7 68.3,10.5 68.3,4.3 65.2,1.2 52.8,1.2 49.7,4.3 49.7,22.9 65.2,38.4 65.2,47.7 68.3,50.8 80.7,50.8 "/><polygon points="145.9,29.1 130.4,29.1 130.4,32.2 118,32.2 118,19.8 130.4,19.8 130.4,22.9 145.9,22.9 149,19.8 149,10.5 139.7,1.2 108.6,1.2 99.3,10.5 99.3,41.5 108.6,50.8 139.7,50.8 149,41.5 149,32.2 "/></g></svg><h1>maps.nyc.gov</h1></div></div>'};(0,r.default)(document).ready(function(){i.loading((0,r.default)("body"))}),t.default=i}).call(this,n(5))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=(o(n(2)),o(n(4))),i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.geocoder=e.geocoder,n.projection=e.projection||"EPSG:3857",n.hookupEvents(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"metersPerUnit",value:function(){return proj4.defs[this.projection].to_meter}},{key:"accuracyDistance",value:function(e){return"EPSG:3857"===this.projection?e:e/this.metersPerUnit()}},{key:"search",value:function(e){this.geocoder.search(e)}},{key:"locate",value:function(){throw"Not implemented"}},{key:"track",value:function(){throw"Not implemented"}},{key:"proxyEvent",value:function(e){this.trigger(e.type,e)}},{key:"hookupEvents",value:function(){this.geocoder.on(t.EventType.GEOCODE,this.proxyEvent,this),this.geocoder.on(t.EventType.AMBIGUOUS,this.proxyEvent,this),this.geocoder.on(t.EventType.ERROR,this.proxyEvent,this)}}]),t}();i.Options,i.EventType={GEOCODE:"geocode",GEOLOCATION:"geolocation",AMBIGUOUS:"ambiguous",ERROR:"error"},i.Accuracy={HIGH:0,MEDIUM:30,LOW:300,ZIP_CODE:600},i.Result,i.Ambiguous,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.evtHdlrs={}}return o(e,[{key:"on",value:function(e,t,n){this.addHdlr(e,t,n)}},{key:"one",value:function(e,t,n){this.addHdlr(e,t,n,!0)}},{key:"trigger",value:function(e,t){var n=this.evtHdlrs[e],o=[];n&&(n.forEach(function(e){e.scope?e.handler.call(e.scope,t):e.handler(t),e.remove&&o.push(e)}),o.forEach(function(e){n.splice(r.default.inArray(e,n),1)}))}},{key:"off",value:function(e,t,n){var o=this.evtHdlrs[e];o.forEach(function(e,r){if(e.handler===t&&e.scope===n)return o.splice(r,1),!1})}},{key:"addHdlr",value:function(e,t,n,o){this.evtHdlrs[e]=this.evtHdlrs[e]||[],this.evtHdlrs[e].push({handler:t,scope:n,remove:o})}}]),e}();a.Handler,t.default=a},function(e){var t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,t,n){"use strict";(function(e){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(1)),u=function(t){function n(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t.target));return e.nycTranslateInstance=o,o.defaultLanguage=t.defaultLanguage||"en",o.button=t.button,o.languages=t.languages,o.hints=[],o.namedCodes={},o.code="",o.messages=t.messages,o.defaultMessages=null,o.messages&&(!o.messages[o.defaultLanguage]&&(o.defaultLanguage=o.defaultLang()),!o.messages[o.defaultLanguage]&&(o.defaultLanguage="en"),o.defaultMessages=o.messages[o.defaultLanguage]),o.code=o.defaultLanguage,o.render(t.target),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.default),r(n,[{key:"translate",value:function(e){var t=this,o=(0,a.default)(e.target).val();this.code=o,Object.keys(this.defaultMessages).forEach(function(e){var n=(t.messages[o]||t.defaultMessages)[e]||t.defaultMessages[e];(0,a.default)("."+e).html(n),(0,a.default)('*[data-msg-key="'+e+'"]').each(function(e,t){(0,a.default)(t).attr((0,a.default)(t).data("msg-attr"),n)})}),this.css("translated"),this.trigger(n.EventType.CHANGE,this)}},{key:"lang",value:function(){return this.code}},{key:"getCookieValue",value:function(){return""}},{key:"render",value:function(e){var t=this,o=[],r=(0,a.default)(n.HTML);(0,a.default)(e).append(r),Object.keys(this.languages).forEach(function(e){var n=t.languages[e].code,r=(0,a.default)("<option></option>").attr("value",n).html(t.languages[e].native);t.find("select").append(r),o.push(e),t.hints.push(t.languages[e].hint),t.namedCodes[n]=e}),this.codes=o.toString(),(0,a.default)("body").addClass("lang-en"),this.find("select").change(a.default.proxy(this.translate,this)),this.selectDefault(),this.showHint(),this.button&&(0,a.default)("#lng").addClass("button"),this.trigger(n.EventType.READY,this)}},{key:"css",value:function(e){var t=(0,a.default)("body");this.codes.split(",").forEach(function(e){t.removeClass("lang-"+e)}),t[this.code===this.defaultLanguage?"removeClass":"addClass"](e),t.addClass("lang-"+this.code),t.addClass(e)}},{key:"defaultLang",value:function(){return navigator.language.split("-")[0]}},{key:"selectDefault",value:function(){var e=this.defaultLang(),t=this.getCookieValue(),n=[],o=[];Object.values(this.languages).forEach(function(r){var a=r.code;0===t.indexOf(a)?n.push(a):0===t.indexOf(e)&&o.push(a)});var r=n[0]||o[0]||"en";this.find("select").val(this.languages[r].code).trigger("change")}},{key:"showHint",value:function(){var e=this;if(!this.button){var t=this.hints,n=0;setInterval(function(){e.find(".hint").html(t[n]||"Translate"),++n===t.length&&(n=0)},1e3)}}}]),n}();u.Options,u.EventType={READY:"ready",CHANGE:"change"},u.DEFAULT_LANGUAGES={en:{code:"en",name:"English",native:"English",hint:"Translate"},ar:{code:"ar",name:"Arabic",native:"&#x627;&#x644;&#x639;&#x631;&#x628;&#x64A;&#x629;",hint:"&#x62A;&#x631;&#x62C;&#x645;"},bn:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({code:"bn",name:"Bengali",native:"&#x9AC;&#x9BE;&#x999;&#x9BE;&#x9B2;&#x9BF;",hint:"&#x9AC;&#x9BE;&#x999;&#x9BE;&#x9B2;&#x9BF;"},"hint","&#x985;&#x9A8;&#x9C1;&#x9AC;&#x9BE;&#x9A6; &#x995;&#x9B0;&#x9BE;"),cn:{code:"cn",name:"Chinese",native:"&#x4E2D;&#x56FD;",hint:"&#x7FFB;&#x8BD1;"},fr:{code:"fr",name:"French",native:"Fran&#231;ais",hint:"Traduire"},ht:{code:"ht",name:"Hatian",native:"Krey&#242;l Ayisyen",hint:"Tradui"},ko:{code:"ko",name:"Korean",native:"&#xD55C;&#xAD6D;&#xC758;",hint:"&#xBC88;&#xC5ED;"},ru:{code:"ru",name:"Russian",native:"P&#x443;&#x441;&#x441;&#x43A;&#x438;&#x439;",hint:"&#x43F;&#x435;&#x440;&#x435;&#x432;&#x435;&#x441;&#x442;&#x438;"},es:{code:"es",name:"Spanish",native:"Espa&#241;ol",hint:"Traducir"},ur:{code:"ur",name:"Urdu",native:"&#x627;&#x631;&#x62F;&#x648;",hint:"&#x62A;&#x631;&#x62C;&#x645;&#x6C1; &#x6A9;&#x631;&#x6CC;&#x6BA;"}},u.Choice,u.Choices,u.HTML='<div id="lng"><button class="btn-sq rad-all"><span class ="hint notranslate">Translate</span><select class="notranslate" translate="no" title="Translate..." araia-label="Translate..."></select></button><div id="lng-goog"></div></div>',t.default=u}).call(this,n(5))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(1)),u=(o(n(3)),o(n(11))),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,a.default)(t.HTML)));return(0,a.default)(e).append(n.getContainer()),n.isAddrSrch=!0,n.input=null,n.list=null,n.retention=null,n.clear=null,n.autoComplete=null,n.input=n.find(".srch input"),n.list=n.find(".srch ul"),n.retention=n.find("ul.retention"),n.clear=n.find(".srch .btn-x"),n.hookupEvents(n.input),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"zoom",value:function(){throw"Not implemented"}},{key:"featureAsLocation",value:function(){throw"Not implemented"}},{key:"hookupEvents",value:function(e){e.on("keyup change",a.default.proxy(this.key,this)),e.focus(a.default.proxy(this.select,this)),this.find(".btn-z-in, .btn-z-out").click(a.default.proxy(this.zoom,this)),this.find(".btn-geo").click(a.default.proxy(this.geolocate,this)),this.clear.click(a.default.proxy(this.clearTxt,this)),(0,a.default)(document).mouseup(a.default.proxy(this.listClick,this))}},{key:"select",value:function(){this.input.select()}},{key:"key",value:function(e){13===e.keyCode&&this.isAddrSrch?(this.triggerSearch(),this.list.slideUp()):this.filterList(),this.clearBtn()}},{key:"clearTxt",value:function(){this.val(""),this.clearBtn()}},{key:"clearBtn",value:function(){this.clear[this.val()?"show":"hide"]()}},{key:"filterList",value:function(){var e=this.val().trim();this.autoComplete&&e?this.autoComplete.filter(this.retention,this.list,e):this.emptyList(),this.showList(!1)}},{key:"showList",value:function(e){var t=this;this.list.slideDown(function(){e&&t.list.children().first().attr("tabindex",0).focus()})}},{key:"geolocate",value:function(){this.val(""),this.trigger(t.EventType.GEOLOCATE)}},{key:"triggerSearch",value:function(){var e=this.val().trim();e.length&&(this.input.blur(),this.trigger(t.EventType.SEARCH,e))}},{key:"val",value:function(e){return"string"==typeof e&&(this.input.val(e),this.clearBtn()),this.input.val()}},{key:"disambiguate",value:function(e){var t=this,n=e.possible;if(n.length){var o=this.list;this.emptyList(),n.forEach(function(e){o.append(t.listItem({layerName:"addr"},e))}),this.showList(!0)}}},{key:"setFeatures",value:function(e){var t=this;this.autoComplete=this.autoComplete||new u.default,e.nameField=e.nameField||"name",e.displayField=e.displayField||e.nameField,e.placeholder&&this.input.attr("placeholder",e.placeholder),this.sortAlphapetically(e).forEach(function(n){var o=t.featureAsLocation(n,e),r=t.listItem(e,o);t.retention.append(r)}),this.emptyList()}},{key:"sortAlphapetically",value:function(e){var t=[];return e.features.forEach(function(e){e.get?t.push(a.default.extend({},e)):t.push(a.default.extend({get:function(e){return this.properties[e]}},e))}),t.sort(function(t,n){var o=e.nameField;return t.get(o)<n.get(o)?-1:t.get(o)>n.get(o)?1:0}),t}},{key:"removeFeatures",value:function(e){this.find("li."+e).remove()}},{key:"listItem",value:function(e,t){var n=(0,a.default)("<li></li>"),o=e.displayField;return n.addClass(e.layerName),"addr"!==e.layerName&&n.addClass("feature"),n.addClass("notranslate").attr("translate","no").html(t.data[o]||t.name).data("nameField",e.nameField).data("displayField",o).data("location",t).click(a.default.proxy(this.disambiguated,this))}},{key:"emptyList",value:function(){this.retention.append(this.find(".srch li")),this.list.empty()}},{key:"disambiguated",value:function(e){var n=(0,a.default)(e.target);"LI"!==n.get(0).tagName.toUpperCase()&&(n=n.parent());var o=n.data("location");this.val(o.name),o.isFeature=n.hasClass("feature"),this.trigger(t.EventType.DISAMBIGUATED,o),n.parent().slideUp(),this.emptyList()}},{key:"listClick",value:function(e){if(e=e.originalEvent||e,"block"===this.list.css("display")){var t=(0,a.default)(e.target);a.default.contains(this.list.get(0),t.get(0))?this.autoComplete&&t.trigger("click"):this.list.slideUp()}}}]),t}();s.FeatureSearchOptions,s.EventType={SEARCH:"search",GEOLOCATE:"geolocate",DISAMBIGUATED:"disambiguated"},s.HTML='<div class="z-srch" role="toolbar"><div class="srch" role="search"><input class="rad-all" placeholder="Search for an address..."><button class="btn-rnd btn-x"><span class="screen-reader-only">Clear</span></button><ul class="rad-all"></ul></div><button class="btn-z-in btn-sq rad-all" data-zoom-incr="1" title="Zoom in"><span class="screen-reader-only">Zoom in</span></button><button class="btn-z-out btn-sq rad-all" data-zoom-incr="-1" title="Zoom out"><span class="screen-reader-only">Zoom out</span></button><button class="btn-geo btn-sq rad-all" title="Current location"><span class="screen-reader-only">Current location</span></button><ul class="retention"></ul></div>',t.default=s},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(1)),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,a.default)(t.HTML)));return(0,a.default)("body").append(n.getContainer().addClass(e)),n.okBtn=n.find(".btn-ok"),n.yesNoBtns=n.find(".btn-yes, .btn-no"),n.inputBtns=n.find(".btn-submit, .btn-cancel"),n.field=n.find("input"),n.msg=n.find(".dia-msg"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"ok",value:function(e){this.buttons(t.Type.OK,e),this.show(t.Type.OK,e),this.okBtn.focus();var n=this,o=this.okBtn;return new Promise(function(e){o.one("click",function(){n.hide(),e(!0)})})}},{key:"input",value:function(e){var n=this.field;this.buttons(t.Type.INPUT,e),n.attr("placeholder",e.placeholder||""),this.show(t.Type.INPUT,e),n.focus();var o=this,r=this.inputBtns;return new Promise(function(e){var t=function(t){o.hndlKey(e,o,t)};(0,a.default)(document).keyup(t),r.one("click",function(r){var i=(0,a.default)(r.target).hasClass("btn-cancel");(0,a.default)(document).off("keyup",t),o.hide(),e(i?void 0:n.val())})})}},{key:"yesNo",value:function(e){this.buttons(t.Type.YES_NO,e),this.show(t.Type.YES_NO,e),this.find(".btn-yes").focus();var n=this,o=this.yesNoBtns;return new Promise(function(e){o.one("click",function(t){n.hide(),e((0,a.default)(t.target).hasClass("btn-yes"))})})}},{key:"yesNoCancel",value:function(e){this.buttons(t.Type.YES_NO_CANCEL,e),this.show(t.Type.YES_NO_CANCEL,e),this.find(".btn-yes").focus();var n=this,o=this.yesNoBtns,r=this.find(".btn-cancel");return new Promise(function(e){var t=function(t){n.hndlKey(e,n,t)};(0,a.default)(document).keyup(t),o.one("click",function(o){(0,a.default)(document).off("keyup",t),n.hide(),e((0,a.default)(o.target).hasClass("btn-yes"))}),r.one("click",function(){(0,a.default)(document).off("keyup",t),n.hide(),e(void 0)})})}},{key:"buttons",value:function(e,n){var o=n.buttonText||[],r=n.buttonHref||[];e===t.Type.OK?this.find(".btn-ok").html(o[0]||"OK").attr("href",r[0]||"#"):e===t.Type.INPUT?(this.find(".btn-submit").html(o[0]||"Submit").attr("href",r[0]||"#"),this.find(".btn-cancel").html(o[1]||"Cancel").attr("href",r[1]||"#")):e===t.Type.YES_NO?(this.find(".btn-yes").html(o[0]||"Yes").attr("href",r[0]||"#"),this.find(".btn-no").html(o[1]||"No").attr("href",r[1]||"#")):e===t.Type.YES_NO_CANCEL&&(this.find(".btn-yes").html(o[0]||"Yes").attr("href",r[0]||"#"),this.find(".btn-no").html(o[1]||"No").attr("href",r[1]||"#"),this.find(".btn-cancel").html(o[2]||"Cancel").attr("href",r[2]||"#"))}},{key:"show",value:function(e,n){this.currentType=e,this.getContainer().removeClass("dia-3-btns"),this.find(".ui-link").removeClass("ui-link"),this.inputBtns.css("display",e===t.Type.INPUT?"inline-block":"none"),this.field.css("display",e===t.Type.INPUT?"block":"none"),this.okBtn.css("display",e===t.Type.OK?"inline-block":"none"),this.yesNoBtns.css("display",e===t.Type.YES_NO?"inline-block":"none"),e===t.Type.YES_NO_CANCEL&&(this.getContainer().addClass("dia-3-btns"),this.yesNoBtns.css("display","inline-block"),this.find(".btn-cancel").css("display","inline-block")),this.msg.html(n.message),this.getContainer().fadeIn()}},{key:"hide",value:function(){var e=this.field;this.getContainer().fadeOut(function(){e.val("")})}},{key:"hndlKey",value:function(e,t,n){13===n.keyCode&&(0,a.default)(n.target).get(0)===t.field.get(0)?(t.hide(),e(t.field.val())):27===n.keyCode&&(t.hide(),e(void 0))}}]),t}();u.Type={OK:"ok",YES_NO:"yes-no",YES_NO_CANCEL:"yes-no-cancel",INPUT:"input"},u.Options,u.HTML='<div class="dia-container" role="dialog"><div class="dia"><div class="dia-msg"></div><input class="rad-all"><div class="dia-btns"><a class="btn rad-all btn-ok">OK</a><a class="btn rad-all btn-yes">Yes</a><a class="btn rad-all btn-no">No</a><a class="btn rad-all btn-submit">OK</a><a class="btn rad-all btn-cancel">Cancel</a></div></div></div>',t.default=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"replace",value:function(e,t){return Object.keys(t).forEach(function(n){e=e.replace(new RegExp("\\$\\{"+n+"\\}","g"),void 0===t[n]?"":t[n])}),e}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(4)),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"search",value:function(){throw"Not implemented"}}]),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"filter",value:function(e,t,n){var o=this,a=3<n.length,i=6<n.length,u={exact:[],possible:[]},s=this.regexp(n),l=[],c=this.test;r.default.merge((0,r.default)(t).find("li"),(0,r.default)(e).find("li")).each(function(e,t){l.push((0,r.default)(t)),c(s,(0,r.default)(t),u,a,o.log)}),(0,r.default)(e).append(l),u.exact.length?(0,r.default)(t).prepend(u.exact):!i&&(0,r.default)(t).prepend(u.possible)}},{key:"test",value:function(e,t,n,o){var r=t.html();o&&e.exact.test(r)&&n.exact.push(t),e.possible.test(r)&&n.possible.push(t)}},{key:"regexp",value:function(e){for(var t=new String(e.replace(/[^a-zA-Z0-9]/g,"")),n=new String(e.replace(/[^a-zA-Z0-9 ]/g,"")),o="^",r=0;r<t.length;r++)o+="(?=.*"+t.charAt(r)+")|";return o=o.substr(0,o.length-1),o+=".*$",{exact:new RegExp("("+n+")","i"),possible:new RegExp(o,"i")}}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=(function(e){e&&e.__esModule}(n(3)),function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"zoomLocation",value:function(){throw"Not implemented"}},{key:"setLocation",value:function(){throw"Not implemented"}}]),e}());r.ZOOM_LEVEL=17,t.default=r},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(2)),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"canDownload",value:function(){return"download"in(0,a.default)("<a></a>").get(0)}},{key:"saveGeoJson",value:function(e,t){var n="data:application/jsoncharset=utf-8,"+encodeURIComponent(t),o=(0,a.default)('<a class="file-dwn"><img></a>');(0,a.default)("body").append(o),o.attr("href",n).attr("download",e).find("img").trigger("click"),o.remove()}},{key:"setItem",value:function(e,t){"localStorage"in window&&localStorage.setItem(e,t)}},{key:"getItem",value:function(e){if("localStorage"in window)return localStorage.getItem(e)}},{key:"removeItem",value:function(e){if("localStorage"in window)return localStorage.removeItem(e)}},{key:"readTextFile",value:function(e,t){var n=new FileReader;if(n.onload=function(){e(n.result)},t)n.readAsText(t);else{var o=(0,a.default)('<input class="file-in" type="file">');(0,a.default)("body").append(o),o.change(function(e){o.remove(),n.readAsText(e.target.files[0])}),o.trigger("click")}}},{key:"loadGeoJsonFile",value:function(e,t,n){var o=this;this.readTextFile(function(n){var r=o.addToMap(e,n);t&&t(r)},n)}},{key:"loadShapeFile",value:function(e,t,n){if(n)this.getShpDbfPrj(e,n,t);else{var o=this,r=(0,a.default)('<input class="file-in" type="file" multiple>');(0,a.default)("body").append(r),r.change(function(n){o.getShpDbfPrj(e,n.target.files,t),r.remove()}),r.trigger("click")}}},{key:"getShpDbfPrj",value:function(e,t,n){var o,r,a,i=this;Object.values(t).forEach(function(e){var t=e.name,n=t.substr(t.length-4).toLowerCase();".shp"===n?o=e:".dbf"===n?r=e:".prj"===n&&(a=e)}),o?this.readPrj(a,function(t){i.readShpDbf(e,o,r,t,n)}):n&&n()}},{key:"readPrj",value:function(e,t){e?this.readTextFile(t,e):t()}},{key:"readShpDbf",value:function(e,t,n,o,r){var a,i,u=this,s=new FileReader;s.onload=function(t){a=t.target.result,(i||!n)&&u.readShp(e,a,i,o,r)};var l=new FileReader;l.onload=function(t){i=t.target.result,a&&u.readShp(e,a,i,o,r)},s.readAsArrayBuffer(t),n&&l.readAsArrayBuffer(n)}},{key:"readShp",value:function(t,n,o,r,a){var i=this,u=[];e.shapefile.open(n,o).then(function(e){e.read().then(function n(o){if(!o.done)return u.push(o.value),e.read().then(n);var s=i.addToMap(t,u,r);a&&a(s)})}).catch(function(e){console.error(e)})}},{key:"addToMap",value:function(){throw"Not implemented"}},{key:"customProj",value:function(e){if(e){var t=i.default.nextId("shp:prj");return proj4.defs(t,e),t}}}]),e}();u.shapefile=n(27),t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(1)),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.target));return n.getContainer().append(t.HTML),n.btn=n.find("h3").append(e.title).click(a.default.proxy(n.toggle,n)),n.content=n.find(".content").append((0,a.default)(e.content)),e.collapsed&&(n.content.hide(),n.btn.removeClass("rad-top"),n.find("h3 button").addClass("expd")),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"toggle",value:function(){var e="none"===this.content.css("display"),t=this.btn;e?this.content.slideDown(function(){t.addClass("rad-top")}):this.content.slideUp(function(){t.removeClass("rad-top")}),this.find("h3 button").toggleClass("expd")}}]),t}();u.Options,u.HTML='<div class="clps rad-all"><h3 class="btn rad-all rad-top" role="button"><button class="btn-rnd"><span class="screen-reader-only">show/hide</span></button></h3><div class="content rad-bot"></div></div>',t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r={hookupEvents:function(e){(0,o.default)(e).on("drop",o.default.proxy(this.loadLayer,this)),(0,o.default)(e).on("dragover",function(e){e.preventDefault()})},loadLayer:function(e){var t=e.originalEvent.dataTransfer;if(e.preventDefault(),e.stopPropagation(),t&&t.files.length){var n=t.files;"json"===n[0].name.split(".").pop().toLowerCase()?this.storage.loadGeoJsonFile(this,null,n[0]):this.storage.loadShapeFile(this,null,n)}},sortedPhotos:function(){var e=this,t=[];return Object.keys(this.photos).forEach(function(n){t.push(e.photos[n])}),t.sort(function(e,t){var n=e.name||e.get("name");return(t.name||t.get("name")).substr(0,4)-n.substr(0,4)})},LabelType:{BASE:"base",PHOTO:"photo"}};t.default=r},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(6)),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.default.getScript("https://translate.google.com/translate_a/element.js?cb=nycTranslateInstance.init"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"init",value:function(){nycTranslateInstance.goog=new google.translate.TranslateElement({pageLanguage:"en",includedLanguages:nycTranslateInstance.codes,layout:google.translate.TranslateElement.InlineLayout.SIMPLE,autoDisplay:!1},"lng-goog"),nycTranslateInstance.hack(),nycTranslateInstance.trigger(i.default.EventType.READY,nycTranslateInstance)}},{key:"translate",value:function(e){var t=(0,a.default)("iframe.goog-te-menu-frame:first").contents().find(".goog-te-menu2-item span.text");if(clearTimeout(nycTranslateInstance.timeout),e&&t.length){var n=this.languages[(0,a.default)(e.target).val()].name;"English"===n?this.showOriginalText():(0,a.default)(t).each(function(e,t){if((0,a.default)(t).text()===n)return(0,a.default)(t).trigger("click"),!1}),this.code=this.namedCodes[n]||"en",this.css("goog-tranlated"),this.trigger(i.default.EventType.CHANGE,this)}else nycTranslateInstance.timeout=setTimeout(function(){nycTranslateInstance.translate(e)},200)}},{key:"getCookieValue",value:function(){var e=this.getCookie();return e?e=(e=e.split("/"))[2]:""}},{key:"getCookie",value:function(){for(var e,t=document.cookie.split(";"),n=0;n<t.length;n++){for(e=t[n];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf("googtrans="))return e.substring(10,e.length)}}},{key:"hack",value:function(){(0,a.default)("input[placeholder]").each(function(e,t){var n=(0,a.default)(t).next();if(n.hasClass("lng-placeholder")){n.find("font");var o=n.html();a.default.each(n.find("font"),function(e,t){o=(0,a.default)(t).html()}),(0,a.default)(t).attr("placeholder",o)}else(0,a.default)(t).after('<span class="lng-placeholder">'+(0,a.default)(t).attr("placeholder")+"</span>")}),(0,a.default)("body").css("top","auto"),(0,a.default)("#goog-gt-tt").remove(),setTimeout(a.default.proxy(this.hack,this),200)}},{key:"showOriginalText",value:function(){var e=this,t=(0,a.default)("iframe.goog-te-banner-frame:first");(0,a.default)(t.contents().find(".goog-te-button button")).each(function(t,n){if("Show original"===(0,a.default)(n).text()){var o=e.find("select").val();return(0,a.default)(n).trigger("click"),"English"!==e.languages[o].name&&e.find("select").val("en"),!1}})}}]),t}();t.default=u},function(e,t,n){n(25),e.exports=self.fetch.bind(self)},function(e,t,n){(function(t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return"function"==typeof e}function o(){var e=setTimeout;return function(){return e(r,1)}}function r(){for(var e=0;e<O;e+=2){(0,C[e])(C[e+1]),C[e]=void 0,C[e+1]=void 0}O=0}function a(e,t){var n=this,o=new this.constructor(u);void 0===o[A]&&v(o);var r=n._state;if(r){var a=arguments[r-1];E(function(){return b(r,o,a,n._result)})}else h(n,o,e,t);return o}function i(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(u);return c(t,e),t}function u(){}function s(e){try{return e.then}catch(e){return F.error=e,F}}function l(t,n,o){n.constructor===t.constructor&&o===a&&n.constructor.resolve===i?function(e,t){t._state===L?d(e,t._result):t._state===M?p(e,t._result):h(t,void 0,function(t){return c(e,t)},function(t){return p(e,t)})}(t,n):o===F?(p(t,F.error),F.error=null):void 0===o?d(t,n):e(o)?function(e,t,n){E(function(e){var o=!1,r=function(e,t,n,o){try{e.call(t,n,o)}catch(t){return t}}(n,t,function(n){o||(o=!0,t===n?d(e,n):c(e,n))},function(t){o||(o=!0,p(e,t))},e._label);!o&&r&&(o=!0,p(e,r))},e)}(t,n,o):d(t,n)}function c(e,t){e===t?p(e,new TypeError("You cannot resolve a promise with itself")):function(e){var t=typeof e;return null!==e&&("object"==t||"function"==t)}(t)?l(e,t,s(t)):d(e,t)}function f(e){e._onerror&&e._onerror(e._result),y(e)}function d(e,t){e._state!==S||(e._result=t,e._state=L,0!==e._subscribers.length&&E(y,e))}function p(e,t){e._state!==S||(e._state=M,e._result=t,E(f,e))}function h(e,t,n,o){var r=e._subscribers,a=r.length;e._onerror=null,r[a]=t,r[a+L]=n,r[a+M]=o,0===a&&e._state&&E(y,e)}function y(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var o=void 0,r=void 0,a=e._result,i=0;i<t.length;i+=3)o=t[i],r=t[i+n],o?b(n,o,r,a):r(a);e._subscribers.length=0}}function b(t,n,o,r){var a,i,u,s,l=e(o);if(l){if((a=function(e,t){try{return e(t)}catch(t){return F.error=t,F}}(o,r))===F?(s=!0,i=a.error,a.error=null):u=!0,n===a)return void p(n,new TypeError("A promises callback cannot return that same promise."))}else a=r,u=!0;n._state!==S||(l&&u?c(n,a):s?p(n,i):t===L?d(n,a):t===M&&p(n,a))}function v(e){e[A]=B++,e._state=void 0,e._result=void 0,e._subscribers=[]}var g,m,w,_=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},O=0,E=function(e,t){C[O]=e,C[O+1]=t,2==(O+=2)&&(m?m(r):w())},T="undefined"==typeof window?void 0:window,j=T||{},k=j.MutationObserver||j.WebKitMutationObserver,x="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),P="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,C=Array(1e3);w=x?function(){return t.nextTick(r)}:k?function(){var e=0,t=new k(r),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():P?function(){var e=new MessageChannel;return e.port1.onmessage=r,function(){return e.port2.postMessage(0)}}():void 0!==T?o():function(){try{var e=Function("return this")().require("vertx");return void 0===(g=e.runOnLoop||e.runOnContext)?o():function(){g(r)}}catch(e){return o()}}();var S,A=Math.random().toString(36).substring(2),L=1,M=2,F={error:null},B=0,I=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(u),this.promise[A]||v(this.promise),_(t)?(this.length=t.length,this._remaining=t.length,this._result=Array(this.length),0===this.length?d(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&d(this.promise,this._result))):p(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===S&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,o=n.resolve;if(o===i){var r=s(e);if(r===a&&e._state!==S)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===N){var c=new n(u);l(c,e,r),this._willSettleAt(c,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(o(e),t)},e.prototype._settledAt=function(e,t,n){var o=this.promise;o._state===S&&(this._remaining--,e===M?p(o,n):this._result[t]=n),0===this._remaining&&d(o,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;h(e,void 0,function(e){return n._settledAt(L,t,e)},function(e){return n._settledAt(M,t,e)})},e}(),N=function(){function e(t){this[A]=B++,this._result=this._state=void 0,this._subscribers=[],u!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){c(e,t)},function(t){p(e,t)})}catch(t){p(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},e}();return N.prototype.then=a,N.all=function(e){return new I(this,e).promise},N.race=function(e){var t=this;return _(e)?new t(function(n,o){for(var r=e.length,a=0;a<r;a++)t.resolve(e[a]).then(n,o)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},N.resolve=i,N.reject=function(e){var t=new this(u);return p(t,e),t},N._setScheduler=function(e){m=e},N._setAsap=function(e){E=e},N._asap=E,N.polyfill=function(){var e;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var o=null;try{o=Object.prototype.toString.call(t.resolve())}catch(t){}if("[object Promise]"===o&&!t.cast)return}e.Promise=N},N.Promise=N,N})}).call(this,n(26),n(5))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(1)),u=o(n(9));n(18).polyfill(),n(17);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.target)),o=n;return fetch(e.url||"./manifest.webmanifest").then(function(e){return e.json()}).then(function(e){e.url=document.location.href,o.append((new u.default).replace(t.HTML,e)),o.hookupEvents()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"hookupEvents",value:function(){var e=this.find(".btns");this.find(".btn-shr").click(function(t){t.stopPropagation(),e.fadeToggle(function(){(0,a.default)("*").one("click",function(t){t.stopPropagation(),1==1*e.css("opacity")&&e.fadeOut()})})})}}]),t}();s.Options,s.HTML='<div class="shr"><a class="btn-shr btn-sq rad-all" role="button" title="Share..."><span class="screen-reader-only">Share...</span></a><div class="btns"><a class="btn-sq rad-all facebook" role="button" href="https://www.facebook.com/sharer/sharer.php?u=${url}" target="_blank" rel="noopener noreferrer" title="Facebook"><span class="screen-reader-only">Facebook</span></a><a class="btn-sq rad-all twitter" role="button" href="https://twitter.com/intent/tweet?text=${url} @nycgov&source=webclient" target="_blank" rel="noopener noreferrer" title="Twitter"><span class="screen-reader-only">Twitter</span></a><a class="btn-sq rad-all google" role="button" href="https://plus.google.com/share?url=${url}" target="_blank" rel="noopener noreferrer" title="Google+"><span class="screen-reader-only">Google+</span></a><a class="btn-sq rad-all linkedin" role="button" href="http://www.linkedin.com/shareArticle?mini=true&url=${url}" target="_blank" rel="noopener noreferrer" title="LinkedIn"><span class="screen-reader-only">LinkedIn</span></a><a class="btn-sq rad-all tumblr" role="button" href="http://www.tumblr.com/share/link?url=${url}&name=${name}&description=via%20NYC.gov" target="_blank" rel="noopener noreferrer" title="Tumblr"><span class="screen-reader-only">Tumblr</span></a><a class="btn-sq rad-all email" role="button" href="mailto:?subject=${name}&body=${description}%0A%0A${url}" title="email"><span class="screen-reader-only">Email</span></a></div></div>',t.default=s},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(1)),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.target));return n.getContainer().append((0,a.default)(t.HTML)).addClass("tabs"),n.btns=n.find(".btns"),n.tabs=n.find(".container"),n.active=null,n.ready=!1,n.render(e.tabs),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"open",value:function(e){e=this.find(e),this.find(".btns h3, .tab").removeClass("active").not(".tab").attr("aria-pressed",!1),e.addClass("active"),e.data("btn").addClass("active").attr("aria-pressed",!0),this.active=e,this.trigger("change",this)}},{key:"render",value:function(e){var n=this,o=!1;e.forEach(function(e,r){var i=(0,a.default)(e.tab).addClass("tab tab-"+r),u=(0,a.default)(t.BTN_HTML).append(e.title).click(a.default.proxy(n.btnClick,n)).addClass("btn-tab btn-"+r).data("tab",i);i.data("btn",u),n.btns.append(u),n.tabs.append(i),e.active&&(n.open(i),o=!0)}),o||this.open(e[0].tab),this.ready=!0}},{key:"btnClick",value:function(e){this.open((0,a.default)(e.currentTarget).data("tab"))}}]),t}();u.Options,u.Tab,u.HTML='<div class="btns" role="tablist"></div><div class="container" role="tabpanel"></div>',u.BTN_HTML='<h3 class="btn" role="tab"><span class="screen-reader-only">show </span></h3>',t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(1)),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.target));return n.getContainer().addClass("lst-pg").append((0,a.default)(t.HTML)),n.items=e.items||[],n.list=n.find(".list"),n.index=0,n.pageSize=e.pageSize||10,n.moreBtn=n.find("button").click(a.default.proxy(n.more,n)),n.reset(n.items),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"reset",value:function(e){this.list.empty(),this.items=e,this.index=0,this.moreBtn.fadeIn(),this.next()}},{key:"next",value:function(e){e=e||this.pageSize;var t=this.items.slice(this.index,this.index+e);return this.index+=e,this.index>=this.items.length-1&&this.moreBtn.fadeOut(),this.render(t),t}},{key:"render",value:function(e){var t=this;e.forEach(function(e){t.list.append((0,a.default)('<div class="lst-it" role="listitem"></div>').append(e.html()))})}}]),t}();u.Options,u.Item,u.HTML='<div class="list" role="list"></div><button class="btn rad-all btn-more">More...</button>',t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(4)),i=o(n(3)),u=o(n(7)),s=o(n(8)),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.zoomSearch=e.zoomSearch,n.locator=e.locator,n.mapLocator=e.mapLocator,n.dialog=new s.default,n.autoLocate=e.autoLocate||!1,n.hookupEvents(),n.locateFromQueryString(document.location.search),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"setLocation",value:function(e){this.mapLocator.setLocation(e)}},{key:"hookupEvents",value:function(){this.locator.on(i.default.EventType.GEOCODE,this.located,this),this.locator.on(i.default.EventType.GEOLOCATION,this.located,this),this.locator.on(i.default.EventType.AMBIGUOUS,this.ambiguous,this),this.locator.on(i.default.EventType.ERROR,this.error,this),this.zoomSearch.on(u.default.EventType.DISAMBIGUATED,this.located,this),this.zoomSearch.on(u.default.EventType.SEARCH,this.locator.search,this.locator),this.zoomSearch.on(u.default.EventType.GEOLOCATE,this.locator.locate,this.locator)}},{key:"locateFromQueryString",value:function(e){var t={};try{e.substr(1).split("&").forEach(function(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])})}catch(e){}t.address?this.locator.search(t.address):this.autoLocate&&this.locator.locate()}},{key:"located",value:function(e){var t=this;this.zoomSearch.val(e.type===i.default.EventType.GEOLOCATION?"":e.name),this.mapLocator.zoomLocation(e,function(){t.trigger(e.type,e)})}},{key:"ambiguous",value:function(e){e.possible.length?this.zoomSearch.disambiguate(e):this.dialog.ok({message:"The location you entered was not understood"})}},{key:"error",value:function(){this.dialog.ok({message:"Failed to contact geocoder"})}}]),t}();l.Options,t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,i=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=o(n(0)),s=o(n(2)),l=o(n(3)),c=o(n(10)),f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.url=e.url+"&input=",n.projection=e.projection||"EPSG:3857",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),i(t,[{key:"search",value:function(e){if(5!==(e=e.trim()).length||isNaN(e))e.length&&(e=e.replace(/"/g,"").replace(/'/g,"").replace(/&/g," and "),u.default.ajax({url:""+this.url+e,dataType:"jsonp",success:u.default.proxy(this.geoclient,this),error:u.default.proxy(this.error,this)}));else{var n=this.project(t.ZIP_CODE_POINTS[e]);this.trigger(n?l.default.EventType.GEOCODE:l.default.EventType.AMBIGUOUS,n?{coordinate:n,accuracy:l.default.Accuracy.ZIP_CODE,type:l.default.EventType.GEOCODE,zip:!0,name:e}:{input:e,possible:[]})}}},{key:"project",value:function(e){return e&&"EPSG:2263"!==this.projection?proj4("EPSG:2263",this.projection,e):e}},{key:"geoclient",value:function(e){var t=e.results;if("OK"!==e.status)this.trigger(l.default.EventType.AMBIGUOUS,{type:l.default.EventType.AMBIGUOUS,input:e.input,possible:[]});else if(1===t.length){var n=t[0],o=this.parse(n);o?(o.type=l.default.EventType.GEOCODE,this.trigger(l.default.EventType.GEOCODE,o)):this.trigger(l.default.EventType.AMBIGUOUS,{type:l.default.EventType.AMBIGUOUS,input:e.input,possible:[]})}else this.trigger(l.default.EventType.AMBIGUOUS,{type:l.default.EventType.AMBIGUOUS,input:e.input,possible:this.possible(t)})}},{key:"possible",value:function(e){var t=this,n=[];return e.forEach(function(e){var o=t.parse(e);o&&n.push(o)}),n}},{key:"parse",value:function(e){var t,n,o,r=e.request.split(" ")[0],a=e.response;if("intersection"===r)t=a.streetName1+" and "+a.streetName2,n=[1*a.xCoordinate,1*a.yCoordinate],o=l.default.Accuracy.MEDIUM;else if("blockface"===r)t=a.firstStreetNameNormalized+" btwn "+a.secondStreetNameNormalized+" & "+a.thirdStreetNameNormalized,n=[(1*a.fromXCoordinate+1*a.toXCoordinate)/2,(1*a.fromYCoordinate+1*a.toYCoordinate)/2],o=l.default.Accuracy.LOW;else{var i=a.internalLabelXCoordinate,u=a.internalLabelYCoordinate;t=(a.houseNumber?a.houseNumber+" ":"")+(a.firstStreetNameNormalized||a.giStreetName1),n=[1*(i&&u?i:a.xCoordinate),1*(i&&u?u:a.yCoordinate)],o=i&&u?l.default.Accuracy.HIGH:l.default.Accuracy.MEDIUM}try{return{type:l.default.EventType.GEOCODE,coordinate:this.project(n),data:a,accuracy:o,name:s.default.capitalize(t.replace(/  /," ").replace(/  /," ")+", "+a.firstBoroughName)+", NY "+(a.zipCode||a.leftSegmentZipCode||"")}}catch(r){console.warn("No coordinate",e)}}},{key:"error",value:function(){console.error("Geoclient error",arguments),this.trigger(l.default.EventType.ERROR,{type:l.default.EventType.ERROR,error:arguments})}}]),t}();f.Options,f.ZIP_CODE_POINTS=(r(a={10474:[1018466,233787],10455:[1007889,236616],10037:[1001661,235627],10024:[991450,225457],10454:[1007449,232863],10026:[997179,231835],10035:[1001886,231364],10025:[993331,230012]},"10035",[1006595,228454]),r(a,"11101",[1001319,211034]),r(a,"11364",[1051553,211923]),r(a,"10018",[984278,215509]),r(a,"10020",[990012,215729]),r(a,"11005",[1064789,214295]),r(a,"10017",[991869,213252]),r(a,"10001",[983613,213360]),r(a,"10011",[982781,210664]),r(a,"10016",[990291,210665]),r(a,"11104",[1006224,210564]),r(a,"11109",[996054,210740]),r(a,"10010",[988989,208515]),r(a,"11367",[1032392,205392]),r(a,"10014",[982449,206620]),r(a,"10003",[987465,205563]),r(a,"11222",[998773,204620]),r(a,"11379",[1017432,200740]),r(a,"11429",[1056859,198057]),r(a,"11435",[1036960,195018]),r(a,"11415",[1031798,197376]),r(a,"11418",[1031001,193330]),r(a,"11433",[1043368,193721]),r(a,"11451",[1039899,194697]),r(a,"11221",[1004438,191873]),r(a,"11421",[1023878,191241]),r(a,"11372",[1016528,213126]),r(a,"11004",[1065606,210363]),r(a,"11040",[1065956,213534]),r(a,"10002",[988242,200171]),r(a,"10314",[939259,155728]),r(a,"11693",[1028661,168843]),r(a,"11228",[980891,164066]),r(a,"11096",[1048547,164406]),r(a,"11693",[1032834,164479]),r(a,"11209",[976172,165379]),r(a,"10304",[962458,165679]),r(a,"10456",[1007883,242372]),r(a,"10472",[1021444,241624]),r(a,"10031",[998088,239814]),r(a,"10039",[1001519,240436]),r(a,"10459",[1013835,240084]),r(a,"10451",[1005368,238290]),r(a,"10473",[1022475,237217]),r(a,"10030",[1000193,237302]),r(a,"10027",[999088,234131]),r(a,"10464",[1047712,250241]),r(a,"10464",[1043291,247861]),r(a,"10461",[1028296,247902]),r(a,"10457",[1012388,247405]),r(a,"10460",[1015132,243510]),r(a,"10032",[1000382,244917]),r(a,"10452",[1005446,244483]),r(a,"11414",[1027256,178677]),r(a,"11231",[979340,182720]),r(a,"11232",[983612,177801]),r(a,"10034",[1005713,255122]),r(a,"10033",[1001707,248780]),r(a,"10462",[1020685,249420]),r(a,"10040",[1003863,251914]),r(a,"10453",[1008152,249805]),r(a,"11102",[1004636,220364]),r(a,"11370",[1014445,217532]),r(a,"10021",[997020,219120]),r(a,"11361",[1047797,217779]),r(a,"11358",[1040709,216377]),r(a,"11362",[1057749,215220]),r(a,"10044",[996385,214347]),r(a,"11369",[1019957,217722]),r(a,"11103",[1008295,217197]),r(a,"11106",[1001397,217519]),r(a,"11368",[1024870,212082]),r(a,"11377",[1010574,210678]),r(a,"10036",[985413,216821]),r(a,"11355",[1033762,213010]),r(a,"10302",[945946,169124]),r(a,"10465",[1031495,239091]),r(a,"11691",[1053783,158810]),r(a,"11096",[1054217,162199]),r(a,"11223",[991665,156781]),r(a,"11693",[1030676,160394]),r(a,"11208",[1019700,184749]),r(a,"11207",[1013544,183721]),r(a,"10004",[978925,190480]),r(a,"10004",[971715,190592]),r(a,"11413",[1053380,183328]),r(a,"11217",[989547,187967]),r(a,"11238",[994291,186584]),r(a,"11231",[983057,186217]),r(a,"11422",[1057272,180607]),r(a,"11420",[1036899,184708]),r(a,"11417",[1027410,185709]),r(a,"11215",[989882,181773]),r(a,"11357",[1036533,225804]),r(a,"10029",[999950,227538]),r(a,"00083",[991590,220538]),r(a,"11356",[1028115,225277]),r(a,"11359",[1046026,228012]),r(a,"10303",[933820,171004]),r(a,"11234",[1004323,163783]),r(a,"11360",[1044984,223892]),r(a,"11105",[1011836,221755]),r(a,"10128",[997765,224257]),r(a,"11371",[1022003,220457]),r(a,"10023",[988765,222068]),r(a,"11363",[1055047,220385]),r(a,"10028",[995910,222872]),r(a,"11354",[1032198,219054]),r(a,"11216",[998312,187241]),r(a,"11416",[1025796,188584]),r(a,"11233",[1006523,186300]),r(a,"11436",[1040697,185554]),r(a,"11213",[1000284,183308]),r(a,"11212",[1008387,180764]),r(a,"11225",[997345,180829]),r(a,"11218",[990799,173649]),r(a,"11226",[995711,174598]),r(a,"11219",[985166,169604]),r(a,"11210",[999101,167896]),r(a,"11230",[993494,166072]),r(a,"11419",[1033365,190202]),r(a,"11434",[1046577,185969]),r(a,"11204",[987887,164576]),r(a,"10471",[1012587,266570]),r(a,"10470",[1024748,268409]),r(a,"10466",[1024313,263999]),r(a,"10467",[1019786,258782]),r(a,"11430",[1043607,175068]),r(a,"11203",[1002509,175950]),r(a,"10469",[1026678,255623]),r(a,"10468",[1013897,258046]),r(a,"10463",[1008780,258696]),r(a,"10458",[1015534,253712]),r(a,"11378",[1009641,202115]),r(a,"10009",[990043,203961]),r(a,"10012",[984832,203596]),r(a,"10013",[982892,201665]),r(a,"10007",[982504,199552]),r(a,"11237",[1004600,197083]),r(a,"11385",[1011367,195195]),r(a,"10038",[983418,197803]),r(a,"11206",[1000221,195003]),r(a,"10006",[980563,197293]),r(a,"11412",[1050773,193231]),r(a,"10005",[981339,197038]),r(a,"11251",[993428,194599]),r(a,"10004",[980174,195435]),r(a,"11411",[1057763,192413]),r(a,"11201",[986968,192156]),r(a,"10004",[972576,193652]),r(a,"11205",[995897,192159]),r(a,"10305",[963310,156060]),r(a,"11229",[999717,158278]),r(a,"11214",[984e3,159330]),r(a,"10306",[950937,145144]),r(a,"11694",[1025530,149310]),r(a,"11224",[984306,149092]),r(a,"10308",[942704,140020]),r(a,"10282",[979981,200244]),r(a,"11211",[999857,199848]),r(a,"11249",[993704,198278]),r(a,"11370",[1016758,227518]),r(a,"10065",[994666,217698]),r(a,"10075",[995301,221633]),r(a,"10069",[987047,221849]),r(a,"10281",[980036,198787]),r(a,"11373",[1017948,208465]),r(a,"10279",[981949,198823]),r(a,"10165",[990124,213288]),r(a,"10168",[990733,212960]),r(a,"10105",[990067,217259]),r(a,"10118",[988212,211939]),r(a,"10176",[990123,214490]),r(a,"10162",[997739,219667]),r(a,"10170",[990955,213470]),r(a,"10112",[989735,215947]),r(a,"10122",[986550,213178]),r(a,"10107",[989098,218425]),r(a,"10103",[990705,216275]),r(a,"10174",[991094,213106]),r(a,"10166",[990733,213798]),r(a,"10169",[990872,214089]),r(a,"10167",[991259,214199]),r(a,"10177",[990927,214381]),r(a,"10172",[991398,214417]),r(a,"10171",[991426,214709]),r(a,"10270",[982060,196710]),r(a,"10104",[990123,216312]),r(a,"10271",[981339,197293]),r(a,"10110",[989486,213943]),r(a,"10175",[989847,214016]),r(a,"10151",[991702,217332]),r(a,"10173",[990040,213907]),r(a,"10178",[990429,212814]),r(a,"10119",[986217,213068]),r(a,"10121",[986439,212486]),r(a,"10123",[986827,213032]),r(a,"10106",[989624,218024]),r(a,"10158",[991177,212122]),r(a,"10041",[981727,195435]),r(a,"10120",[987242,212449]),r(a,"10278",[983113,199880]),r(a,"10155",[993143,216531]),r(a,"10043",[982337,195836]),r(a,"10081",[981838,197074]),r(a,"10096",[989071,214235]),r(a,"10097",[988461,216931]),r(a,"10196",[989237,215e3]),r(a,"10196",[989458,214963]),r(a,"10275",[980368,196382]),r(a,"10265",[982060,196164]),r(a,"10045",[981866,197329]),r(a,"10047",[988047,208660]),r(a,"10047",[988047,208660]),r(a,"10080",[980785,198167]),r(a,"10203",[981062,196965]),r(a,"10259",[981478,197439]),r(a,"10260",[981921,196564]),r(a,"10285",[980147,199224]),r(a,"10286",[981727,196637]),r(a,"10463",[1007644,260043]),r(a,"10475",[1030489,258509]),r(a,"10464",[1036131,258338]),r(a,"10309",[923594,132955]),r(a,"10307",[916899,124411]),r(a,"10280",[979509,197257]),r(a,"10048",[980812,198532]),r(a,"10055",[991564,215802]),r(a,"10019",[989652,217477]),r(a,"10111",[990483,215838]),r(a,"10153",[991896,217478]),r(a,"10154",[991896,215328]),r(a,"10152",[991979,215584]),r(a,"10115",[994299,234675]),r(a,"10022",[993087,215620]),r(a,"11235",[1000973,149936]),r(a,"11693",[1036606,153266]),r(a,"11692",[1041045,155461]),r(a,"11697",[1009230,143240]),r(a,"10312",[935583,136827]),r(a,"11239",[1021573,175899]),r(a,"11236",[1011642,172461]),r(a,"11220",[979421,172519]),r(a,"10301",[961077,172967]),r(a,"10310",[950582,169591]),r(a,"11426",[1060737,207724]),r(a,"11365",[1041364,208618]),r(a,"11001",[1065508,206646]),r(a,"11375",[1026883,201848]),r(a,"11427",[1053373,205042]),r(a,"11374",[1022389,203771]),r(a,"11366",[1039491,203659]),r(a,"11423",[1048812,200621]),r(a,"11428",[1055655,202207]),r(a,"11432",[1041634,200093]),a),t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(2)),u=o(n(1)),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.target));return n.getContainer().addClass("chc rad-all"),n.radio=e.radio,n.inputs=null,n.choices=e.choices,n.setChoices(n.choices),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"setChoices",value:function(e){var n=this;this.getContainer().empty(),this.radio&&this.getContainer().attr("role","radiogroup"),e.forEach(function(e,o){var r=(0,a.default)(t.HTML),u=i.default.nextId("chc-chc"),s=r.find("input");r.find(".lbl").addClass(n.radio?e.name+"-"+o:e.name),s.attr("id",u).attr("name",e.name).attr("type",n.radio?"radio":"checkbox").prop("checked",e.checked).data("choice",e).change(a.default.proxy(n.change,n)),r.find("label").html(e.label).attr("for",u),n.append(r),n.extend(e)}),this.inputs=this.find("input")}},{key:"val",value:function(e){if(e)return a.default.each(this.inputs,function(t,n){(0,a.default)(n).prop("checked",!1),e.some(function(e){var t=(0,a.default)(n).data("choice");if(e.eq(t))return(0,a.default)(n).prop("checked",!0),!0})}),this.val();var t=[];return a.default.each(this.inputs,function(e,n){(0,a.default)(n).prop("checked")&&t.push((0,a.default)(n).data("choice"))}),t}},{key:"change",value:function(){this.trigger("change",this)}},{key:"extend",value:function(e){a.default.extend(e,{eq:function(e){return this.name===e.name&&this.label===e.label&&JSON.stringify(this.value)===JSON.stringify(e.value)}})}}]),t}();s.Choice,s.Options,s.HTML='<div class="chc-chc"><div><input></div><div class="lbl"><label></label></div></div>',t.default=s},function(){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e+=""),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e+=""),e}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return h.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function i(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function u(e){var t=new FileReader,n=i(t);return t.readAsArrayBuffer(e),n}function s(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(h.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(h.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(h.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(h.arrayBuffer&&h.blob&&b(e))this._bodyArrayBuffer=s(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!h.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!v(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=s(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=i(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e,t){var n=(t=t||{}).body;if(e instanceof c){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e+"";if(this.credentials=t.credentials||this.credentials||"omit",(t.headers||!this.headers)&&(this.headers=new r(t.headers)),this.method=function(e){var t=e.toUpperCase();return-1<g.indexOf(t)?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(r))}}),t}function d(e){var t=new r;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),o=n.shift().trim();if(o){var r=n.join(":").trim();t.append(o,r)}}),t}function p(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&300>this.status,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var h={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(h.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},v=ArrayBuffer.isView||function(e){return e&&-1<y.indexOf(Object.prototype.toString.call(e))};r.prototype.append=function(e,o){e=t(e),o=n(o);var r=this.map[e];this.map[e]=r?r+","+o:o},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,o){this.map[t(e)]=n(o)},r.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),o(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),o(e)},h.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this,{body:this._bodyInit})},l.call(c.prototype),l.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},p.error=function(){var e=new p(null,{status:0,statusText:""});return e.type="error",e};var m=[301,302,303,307,308];p.redirect=function(e,t){if(-1===m.indexOf(t))throw new RangeError("Invalid status code");return new p(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=c,e.Response=p,e.fetch=function(e,t){return new Promise(function(n,o){var r=new c(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:d(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new p(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(r.method,r.url,!0),"include"===r.credentials?a.withCredentials=!0:"omit"===r.credentials&&(a.withCredentials=!1),"responseType"in a&&h.blob&&(a.responseType="blob"),r.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}}("undefined"==typeof self?this:self)},function(e){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(s===setTimeout)return setTimeout(e,0);if((s===t||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}function r(){p&&f&&(p=!1,f.length?d=f.concat(d):h=-1,d.length&&a())}function a(){if(!p){var e=o(r);p=!0;for(var t=d.length;t;){for(f=d,d=[];++h<t;)f&&f[h].run();h=-1,t=d.length}f=null,p=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function i(e,t){this.fun=e,this.array=t}function u(){}var s,l,c=e.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:t}catch(e){s=t}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var f,d=[],p=!1,h=-1;c.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new i(e,t)),1!==d.length||p||o(a)},i.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=u,c.addListener=u,c.once=u,c.off=u,c.removeListener=u,c.removeAllListeners=u,c.emit=u,c.prependListener=u,c.prependOnceListener=u,c.listeners=function(){return[]},c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e){e.exports=window.shapefile||{}},function(e){e.exports=window.proj4||{defs:function(){}}},function(e){e.exports=ol.extent},function(e){e.exports=ol.geom.Point},function(e){e.exports=ol.Feature},function(e){e.exports=ol.layer.Vector},function(e){e.exports=ol.source.Vector},function(e){e.exports=ol.format.GeoJSON},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=(o(n(0)),o(n(33)));n(18).polyfill(),n(17);var i=function(e){function t(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),e.loader=function(){console.warn("Use autoLoad to load features")};var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.autoLoadOptions=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"autoLoad",value:function(){var e=this,t=this.autoLoadOptions,n=this.getFormat();return new Promise(function(o){fetch(t.url).then(function(e){return e.text()}).then(function(t){var r=n.readFeatures(t);e.addFeatures(r),e.set("autoload-complete",!0),o(r)})})}}]),t}();t.default=i},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(59)),u=o(n(58)),s=(o(n(2)),o(n(35))),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.allFeatures=e.features||null,n.on("change:autoload-complete",a.default.proxy(n.storeFeatures,n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"filter",value:function(e){var t=[],n={};return this.allFeatures.forEach(function(o){var r=!0;e.every(function(e){return!(r=-1<a.default.inArray(o.get(e.property),e.values))}),r&&(n[o.getId()]=!0,t.push(o))}),this.clear(!0),this.addFeatures(t),t}},{key:"sort",value:function(e){var n=this,o=this.getFeatures();return o.sort(function(o,r){o.getGeometry(),r.getGeometry();var i=n.distance(e,o.getGeometry()),u=n.distance(e,r.getGeometry());return o.set("__distance",i),r.set("__distance",u),a.default.extend(o,t.DistanceDecoration),a.default.extend(r,t.DistanceDecoration),i.distance<u.distance?-1:i.distance>u.distance?1:0}),o}},{key:"distance",value:function(e,t){var n=new i.default([e,t.getClosestPoint(e)]),o=this.projections(this.getFormat());return o[0]&&n.transform(o[1],o[0]),{distance:n.getLength(),units:o[0]?o[0].getUnits():void 0}}},{key:"projections",value:function(e){var t,n,o=e?e.parentFormat:null;return o?(t=o.defaultDataProjection,n=o.defaultFeatureProjection||"EPSG:3857"):e&&(t=e.defaultDataProjection,n=e.defaultFeatureProjection||"EPSG:3857"),t&&(t=t.getCode?t:new u.default({code:t})),[t,n]}},{key:"storeFeatures",value:function(){this.allFeatures=this.getFeatures()}}]),t}();l.DistanceDecoration={getDistance:function(){return this.get("__distance")}},l.Filter,t.default=l},function(e){e.exports=ol.format.Feature},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=(o(n(0)),o(n(2))),i=(o(n(31)),o(n(37))),u=(o(n(30)),function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.parentFormat=e.parentFormat,n.decorations=e.decorations,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"readFeature",value:function(){throw"Not supported: Use readFeatures"}},{key:"readFeatures",value:function(e,t){var n=this,o=this.parentFormat.readFeatures(e,t);return o.forEach(function(e){n.decorate(e)}),o}},{key:"getType",value:function(){return this.parentFormat.getType()}},{key:"decorate",value:function(e){e.get("decorated")||(e.set("decorated",!0),a.default.mixin(e,this.decorations),e.extendFeature&&e.extendFeature())}}]),t}());u.Options,t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=(o(n(0)),o(n(29))),i=(o(n(2)),o(n(60))),u=o(n(47)),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.layers=[],n.pager=new i.default({target:n.content}),n.addLayers(e.layers),n.pager.on("change",n.pan,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"showFeatures",value:function(e,t){t=t||a.default.getCenter(e[0].getGeometry().getExtent()),this.pager.show(e),this.show({coordinate:t})}},{key:"mapClick",value:function(e){var t=this.getId(),n=[];this.map.forEachFeatureAtPixel(e.pixel,function(e,o){o.get("popup-id")===t&&n.push(e)}),n.length&&this.showFeatures(n,e.coordinate)}}]),t}();t.default=s},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(34)),u=o(n(29)),s=o(n(7)),l=o(n(3)),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,a.default)(e.getTargetElement()).find(".ol-overlaycontainer-stopevent")));return n.map=e,n.view=e.getView(),n.geoJson=new i.default,n.getContainer().on("click dblclick mouseover mousemove",function(){(0,a.default)(".feature-tip").hide()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"featureAsLocation",value:function(e,t){var n=e.getGeometry();return{name:e.getName?e.getName():e.get(t.nameField),coordinate:u.default.getCenter(n.getExtent()),geometry:JSON.parse(this.geoJson.writeGeometry(n)),data:e.getProperties(),type:l.default.EventType.GEOCODE,accuracy:l.default.Accuracy.HIGH}}},{key:"zoom",value:function(e){this.view.animate({zoom:this.view.getZoom()+1*(0,a.default)(e.target).data("zoom-incr")})}}]),t}();t.default=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=(o(n(0)),o(n(34))),i=o(n(62)),u=o(n(61)),s=o(n(33)),l=o(n(32)),c=o(n(31)),f=o(n(30)),d=(o(n(3)),o(n(12))),p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.layer=null,n.source=null,n.map=e.map,n.view=n.map.getView(),n.zoom=void 0===e.zoom?d.default.ZOOM_LEVEL:e.zoom,n.format=new a.default,n.createLayer(e.style),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default),r(t,[{key:"zoomLocation",value:function(e,t){var n=this.map,o=this.view,r=this.source,a=this.feature(e),i=a.getGeometry();r.clear(),r.addFeature(a),t&&n.once("moveend",t),"Point"===i.getType()?o.animate({center:e.coordinate,zoom:this.zoom}):o.fit(i.getExtent(),{size:n.getSize(),duration:500})}},{key:"setLocation",value:function(e){this.source.clear(),this.source.addFeature(this.feature(e))}},{key:"feature",value:function(e){var t=e.geometry,n=new c.default({name:e.name,isFeature:e.isFeature});return t?n.setGeometry(this.format.readGeometry(t)):n.setGeometry(new f.default(e.coordinate)),n}},{key:"createLayer",value:function(e){this.source=new s.default,this.layer=new l.default({source:this.source,style:e||t.LOCATION_STYLE,zIndex:1e4}),this.map.addLayer(this.layer)}}]),t}();p.Options,p.LOCATION_STYLE=new i.default({image:new u.default({scale:.09375,size:[1024,1024],src:"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%221024%22%20height%3D%221024%22%3E%3Cfilter%20id%3D%22filter%22%20style%3D%22color-interpolation-filters%3AsRGB%22%20x%3D%22-0.035750399%22%20width%3D%221.0715008%22%20y%3D%22-0.03625311%22%20%20height%3D%221.0725062%22%3E%3CfeGaussianBlur%20stdDeviation%3D%226.0015266%22%2F%3E%3C%2Ffilter%3E%3Cpath%20style%3D%22opacity%3A0.1%3Bfill%3A%23000000%3Bfill-opacity%3A1%3Bstroke%3A%23000000%3Bstroke-width%3A10%3Bstroke-opacity%3A1%3Bfilter%3Aurl(%23filter)%22%20d%3D%22M%20868.91078%2C141.10492%20C%20806.53392%2C79.855774%20695.84806%2C89.539532%20621.70905%2C162.73227%20547.57005%2C235.92501%20492.08486%2C476.05139%20510.9101%2C494.53629%20529.73535%2C513.02119%20773.473%2C457.74384%20847.612%2C384.5511%20921.751%2C311.35836%20931.28764%2C202.35407%20868.91078%2C141.10492%20Z%20M%20645.16036%2C361.99953%20c%20-41.52967%2C-40.77885%20-35.13918%2C-113.58881%2014.19918%2C-162.29746%2049.33837%2C-48.70864%20123.27149%2C-55.19708%20164.80115%2C-14.41823%2041.52967%2C40.77885%2035.13918%2C113.58881%20-14.19918%2C162.29745%20-49.33837%2C48.70864%20-123.27149%2C55.19709%20-164.80115%2C14.41824%20z%22%2F%3E%3Cpath%20style%3D%22fill%3A%23000%3Bstroke%3A%23fff%3Bstroke-width%3A20%22%20d%3D%22m%20512%2C25.6%20c%20-95.4279%2C0%20-172.8%2C77.3721%20-172.8%2C172.8%200%2C95.4279%20144%2C288%20172.8%2C288%2028.8%2C0%20172.8%2C-192.5721%20172.8%2C-288%20C%20684.8%2C102.9721%20607.4279%2C25.6%20512%2C25.6%20Z%20m%200%2C288%20c%20-63.5346%2C0%20-115.2%2C-51.6942%20-115.2%2C-115.2%200%2C-63.5058%2051.6654%2C-115.2%20115.2%2C-115.2%2063.5346%2C0%20115.2%2C51.6942%20115.2%2C115.2%200%2C63.5058%20-51.6654%2C115.2%20-115.2%2C115.2%20z%22%2F%3E%3C%2Fsvg%3E"})}),t.default=p},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=(o(n(2)),o(n(3))),u=o(n(64)),s=o(n(63)),l=o(n(29)),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.locating=!1,n.extentLimit=e.extentLimit,n.geolocation=new u.default({trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),n.geolocation.on("change",a.default.proxy(n.geolocationChange,n)),n.geolocation.on("error",a.default.proxy(n.geolocationError,n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"locate",value:function(){this.locating=!0,this.geolocation.setTracking(!0)}},{key:"track",value:function(e){this.geolocation.setTracking(e)}},{key:"geolocationError",value:function(e){console.error(e.message,e)}},{key:"geolocationChange",value:function(){var e=this.geolocation,t=e.getPosition(),n=s.default.toStringHDMS(t);t=proj4("EPSG:4326",this.projection,t),this.withinLimit(t)&&(this.locating&&(this.track(!1),this.locating=!1),this.trigger(i.default.EventType.GEOLOCATION,{coordinate:t,heading:e.getHeading(),accuracy:e.getAccuracy()/this.metersPerUnit(),type:i.default.EventType.GEOLOCATION,name:n}))}},{key:"withinLimit",value:function(e){return!this.extentLimit||l.default.containsCoordinate(this.extentLimit,e)}}]),t}();c.Options,t.default=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(22)),a=o(n(23)),i=o(n(42)),u=o(n(41)),s=o(n(40)),l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{zoomSearch:new s.default(e.map),locator:new i.default({geocoder:new a.default({url:e.url})}),mapLocator:new u.default({map:e.map})}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();l.Options,t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(45)),u=o(n(2)),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(0,a.default)(e.map.getTargetElement()).find("f-tip").get(0),o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{id:u.default.nextId("FeatureTip"),element:n||(0,a.default)(t.HTML).get(0)}));return o.setMap(e.map),o.map=o.getMap(),o.tip=(0,a.default)(o.getElement()),o.addTips(e.tips),e.map.on("pointermove",a.default.proxy(o.label,o)),(0,a.default)(e.map.getViewport()).mouseout(a.default.proxy(o.hide,o)),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"hide",value:function(){this.tip.fadeOut()}},{key:"addTips",value:function(e){e.forEach(function(e){e.layer.nycTip=e.label})}},{key:"label",value:function(e){var t=this.map.forEachFeatureAtPixel(e.pixel,function(e,t){return t.getVisible()&&t.nycTip?t.nycTip(e):null});t?(this.tip.html(t.html).addClass(t.css||""),this.setPosition(e.coordinate),this.tip.show(),this.position()):this.hide()}},{key:"position",value:function(){var e=this.map.getSize(),t=this.map.getPixelFromCoordinate(this.getPosition()),n=this.tip.width(),o=this.tip.height(),r=t[1]+o>e[1]?"bottom":"top",a=t[0]+n>e[0]?"right":"left";this.setPositioning(r+"-"+a)}}]),t}();s.TipDef,s.LabelFunction,s.Label,s.Options,s.HTML='<div class="f-tip" role="tooltip"></div>',t.default=s},function(e){e.exports=ol.Overlay},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(45)),u=o(n(2)),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{id:u.default.nextId("Popup"),element:(0,a.default)(t.HTML).get(0),stopEvent:!0}));return n.margin=[10,10,10,10],n.popup=(0,a.default)(n.getElement()),n.map=e.map,n.setMap(n.map),n.content=n.popup.find(".content"),n.popup.find(".btn-x").on("click tap",a.default.proxy(n.hide,n)),n.popup.on("mouseover mousemove",a.default.proxy(n.hideTip,n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"show",value:function(e){this.setPosition(e.coordinate),e.html&&this.content.html(e.html),this.popup.fadeIn(),(0,a.default)(".f-tip").fadeOut(),this.pan()}},{key:"hide",value:function(){this.popup.fadeOut()}},{key:"hideTip",value:function(e){e.stopPropagation(),(0,a.default)(".f-tip").fadeOut()}},{key:"pan",value:function(){var e=this.popup;if("none"!==e.css("display")){var t=this.map.getView(),n=parseInt(e.css("bottom")),o=-parseInt(e.css("left")),r=this.getOffset(),a=this.map.getPixelFromCoordinate(this.getPosition()),i=this.map.getSize(),u={width:e.width(),height:e.height()+n},s=u.width-o,l=a[0]-o-this.margin[3],c=i[0]-(a[0]+s)-this.margin[1],f=a[1]-u.height+r[1]-this.margin[0],d=i[1]-(a[1]+n)-r[1]-this.margin[2],p=t.getCenter(),h=this.map.getPixelFromCoordinate(p);0>c?h[0]-=c:0>l&&(h[0]+=l),0>f?h[1]+=f:0>d&&(h[1]-=d),t.animate({center:this.map.getCoordinateFromPixel(h)})}}}]),t}();s.ShowOptions,s.Options,s.HTML='<div class="pop"><button class="btn-rnd btn-x"><span class="screen-reader-only">Close</span></button><div class="content"></div></div>',t.default=s},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(29)),u=o(n(2)),s=o(n(46)),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.layers=[],n.addLayers(e.layers),n.map.on("click",a.default.proxy(n.mapClick,n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"addLayers",value:function(e){var t=this;e.forEach(function(e){t.addLayer(e)})}},{key:"addLayer",value:function(e){this.layers.push(e),e.set("popup-id",this.getId())}},{key:"showFeature",value:function(e,t){t=t||i.default.getCenter(e.getGeometry().getExtent()),this.show({coordinate:t,html:u.default.html(e)})}},{key:"mapClick",value:function(e){var t=this.getId(),n=this.map.forEachFeatureAtPixel(e.pixel,function(e,n){if(n.get("popup-id")===t)return e});n&&this.showFeature(n,e.coordinate)}}]),t}();l.Options,t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=o(n(34)),u=o(n(33)),s=o(n(32)),l=o(n(13)),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),a(t,[{key:"addToMap",value:function(e,t,n){var o={featureProjection:e.getView().getProjection(),dataProjection:this.customProj(n)};"object"===(void 0===t?"undefined":r(t))&&(t={type:"FeatureCollection",features:t}),t=(new i.default).readFeatures(t,o);var a=new u.default,l=new s.default({source:a});return a.addFeatures(t),e.addLayer(l),l}}]),t}();t.default=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n,o=[],r=!0,a=!1;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(o.push(i.value),!t||o.length!==t);r=!0);}catch(e){a=!0,n=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=o(n(0)),u=o(n(2)),s=o(n(15)),l=o(n(48)),c=o(n(71)),f=o(n(70)),d=o(n(69)),p=o(n(68)),h=(o(n(67)),function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=e.view instanceof f.default;t.setupView(e);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return u.default.mixin(r,[s.default]),r.latestPhoto=0,r.base=null,r.labels={},r.photos={},r.storage=new l.default,r.setupLayers(e,n),r.defaultExtent(o),r.hookupEvents(r.getTargetElement()),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),a(t,[{key:"showPhoto",value:function(e){this.hidePhoto(),this.photos[(e||this.latestPhoto)+""].setVisible(!0),this.showLabels("photo")}},{key:"hidePhoto",value:function(){this.base.setVisible(!0),this.showLabels(s.default.LabelType.BASE),Object.entries(this.photos).forEach(function(e){var t=r(e,2);t[0];t[1].setVisible(!1)})}},{key:"showLabels",value:function(e){this.labels.base.setVisible(e===s.default.LabelType.BASE),this.labels.photo.setVisible(e===s.default.LabelType.PHOTO)}},{key:"getBaseLayers",value:function(){return{base:this.base,labels:this.labels,photos:this.photos}}},{key:"getStorage",value:function(){return this.storage}},{key:"defaultExtent",value:function(e){e||this.getView().fit(t.EXTENT,this.getSize())}},{key:"setupLayers",value:function(e,n){var o=this;this.base=new p.default({extent:this.layerExtent(t.UNIVERSE_EXTENT,e.view),source:new d.default({url:t.BASE_URL,projection:"EPSG:3857"}),preload:n||0}),this.addLayer(this.base),Object.entries(t.LABEL_URLS).forEach(function(n){var a=r(n,2),i=a[0],u=a[1];o.labels[i]=new p.default({extent:o.layerExtent(t.LABEL_EXTENT,e.view),source:new d.default({url:u,projection:"EPSG:3857"}),zIndex:1e3,visible:"base"==i}),o.addLayer(o.labels[i])}),Object.entries(t.PHOTO_URLS).forEach(function(n){var a=r(n,2),u=a[0],s=a[1],l=new p.default({extent:o.layerExtent(t.PHOTO_EXTENT,e.view),source:new d.default({url:s,projection:"EPSG:3857"}),visible:!1});1*u.split("-")[0]>o.latestPhoto&&(o.latestPhoto=u),l.set("name",u),o.addLayer(l),l.on("change:visible",i.default.proxy(o.photoChange,o)),o.photos[u]=l})}},{key:"layerExtent",value:function(e,t){if(t&&"EPSG:3857"!==t.getProjection().getCode()){var n="EPSG:3857",o="EPSG:2263",r=proj4(n,o,[e[0],e[1]]),a=proj4(n,o,[e[2],e[3]]);return[r[0],r[1],a[0],a[1]]}return e}},{key:"photoChange",value:function(){var e=this,t=!1;Object.entries(this.photos).some(function(n){var o=r(n,2),a=(o[0],o[1]);if(t=a.getVisible())return e.showLabels(s.default.LabelType.PHOTO),!0}),t||this.showLabels(s.default.LabelType.BASE)}}]),t}());h.setupView=function(e){e.view instanceof f.default||(e.view=new f.default({center:h.CENTER,minZoom:8,maxZoom:21,zoom:8,constrainRotation:1}))},h.BASE_URL="https://maps{1-4}.nyc.gov/tms/1.0.0/carto/basemap/{z}/{x}/{-y}.jpg",h.PHOTO_URLS={1924:"https://maps{1-4}.nyc.gov/tms/1.0.0/photo/1924/{z}/{x}/{-y}.png8",1951:"https://maps{1-4}.nyc.gov/tms/1.0.0/photo/1951/{z}/{x}/{-y}.png8",1996:"https://maps{1-4}.nyc.gov/tms/1.0.0/photo/1996/{z}/{x}/{-y}.png8","2001-2":"https://maps{1-4}.nyc.gov/tms/1.0.0/photo/2001-2/{z}/{x}/{-y}.png8",2004:"https://maps{1-4}.nyc.gov/tms/1.0.0/photo/2004/{z}/{x}/{-y}.png8",2006:"https://maps{1-4}.nyc.gov/tms/1.0.0/photo/2006/{z}/{x}/{-y}.png8",2008:"https://maps{1-4}.nyc.gov/tms/1.0.0/photo/2008/{z}/{x}/{-y}.png8",2010:"https://maps{1-4}.nyc.gov/tms/1.0.0/photo/2010/{z}/{x}/{-y}.png8",2012:"https://maps{1-4}.nyc.gov/tms/1.0.0/photo/2012/{z}/{x}/{-y}.png8",2014:"https://maps{1-4}.nyc.gov/tms/1.0.0/photo/2014/{z}/{x}/{-y}.png8",2016:"https://maps{1-4}.nyc.gov/tms/1.0.0/photo/2016/{z}/{x}/{-y}.png8"},h.LABEL_URLS={base:"https://maps{1-4}.nyc.gov/tms/1.0.0/carto/label/{z}/{x}/{-y}.png8",photo:"https://maps{1-4}.nyc.gov/tms/1.0.0/carto/label-lt/{z}/{x}/{-y}.png8"},h.UNIVERSE_EXTENT=[-8453323,4774561,-7983695,5165920],h.EXTENT=[-8266522,4937867,-8203781,5000276],h.CENTER=[-8235252,4969073],h.LABEL_EXTENT=[-8268e3,4870900,-8005e3,5055500],h.PHOTO_EXTENT=[-8268357,4937238,-8203099,5001716],t.default=h},,,,,function(e){e.exports=ol.format.FormatType},function(e){e.exports=window},function(e){e.exports=window.Papa||{}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(56)),i=o(n(55)),u=(o(n(2)),o(n(31))),s=o(n(37)),l=o(n(54)),c=o(n(30)),f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.defaultDataProjection=e.defaultDataProjection||"EPSG:4326",n.defaultFeatureProjection=e.defaultFeatureProjection||"EPSG:3857",n.id=e.id,n.x=e.x,n.y=e.y,n.lastId=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"readFeature",value:function(e,t){var n=e[this.id]||this.lastId++,o=e[this.x]=1*e[this.x],r=e[this.y]=1*e[this.y];if(isNaN(o)||isNaN(r))throw"Invalid coordinate ["+o+", "+r+"] for id "+n;var a=new c.default([o,r]),i=new u.default(e);return(t=t||{}).dataProjection=t.dataProjection||this.defaultDataProjection,t.featureProjection=t.featureProjection||this.defaultFeatureProjection,a.transform(t.dataProjection,t.featureProjection),i.setGeometry(a),i.setId(n),i}},{key:"readFeatures",value:function(e,t){var n=this,o=[];return e instanceof ArrayBuffer&&(e=new i.default.TextDecoder("utf-8").decode(e)),"string"==typeof e&&(e=a.default.parse(e,{header:!0}).data),e.forEach(function(e){try{o.push(n.readFeature(e,t))}catch(t){console.error(t,e)}}),o}},{key:"getType",value:function(){return l.default.ARRAY_BUFFER}}]),t}();f.Options,t.default=f},function(e){e.exports=ol.proj.Projection},function(e){e.exports=ol.geom.LineString},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(2)),u=o(n(1)),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,a.default)(t.HTML)));return e=e||{},(0,a.default)(e.target).append(n.getContainer()),n.current=n.find(".current"),n.total=n.find(".total"),n.currentItem=n.find(".it"),n.btns=n.find(".btns"),n.items=null,n.find(".btn-nxt, .btn-prv").click(a.default.proxy(n.navigate,n)),e.items&&n.show(e.items),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"show",value:function(e){this.items=e,this.btns[1<e.length?"show":"hide"](),this.current.data("current",0).html(1),this.total.html(e.length),this.currentItem.html(e.length?i.default.html(e[0]):""),this.trigger("change",this)}},{key:"navigate",value:function(e){var t=(0,a.default)(e.target).data("incr")-0,n=this.current.data("current")-0+t;0<=n&&n<this.items.length&&(this.current.data("current",n).html(n+1),this.currentItem.html(i.default.html(this.items[n])),this.feature=this.items[n],this.trigger("change",this))}}]),t}();s.Options,s.HTML='<div class="it-pg"><div class="it"></div><div class="btns"><button class="btn-rnd btn-prv" data-incr="-1"><span class="screen-reader-only">Previous</span></button><span class="current"></span> of <span class="total"></span><button class="btn-rnd btn-nxt" data-incr="1"><span class="screen-reader-only">Next</span></button></div></div>',t.default=s},function(e){e.exports=ol.style.Icon},function(e){e.exports=ol.style.Style},function(e){e.exports=ol.coordinate},function(e){e.exports=ol.Geolocation},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(2)),u=o(n(1)),s=o(n(14)),l=o(n(24)),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.target));return n.choiceControls=[],n.source=e.source,e.choiceOptions.forEach(function(e){var t=(0,a.default)('<div class="'+i.default.nextId("filter")+'"></div>');e.target=e.target||(0,a.default)('<div class="'+i.default.nextId("filter-chc")+'"></div>'),n.append((0,a.default)(t));var o=new l.default(e);new s.default({target:t,title:e.title,content:o.getContainer()});o.on("change",a.default.proxy(n.filter,n)),n.choiceControls.push(o)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"filter",value:function(){var e={},t=[];this.choiceControls.forEach(function(t){t.val().forEach(function(t){var n=e[t.name]||[];e[t.name]=n.concat(t.values)})}),Object.keys(e).forEach(function(n){t.push({property:n,values:e[n]})}),this.source.filter(t),this.trigger("change",this)}}]),t}();c.Options,c.ChoiceOptions,t.default=c},function(e,t,n){"use strict";(function(e){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=o(n(0)),i=o(n(2)),u=o(n(14)),s=o(n(8)),l=o(n(19)),c=o(n(20)),f=o(n(21)),d=o(n(12)),p=o(n(6)),h=o(n(16)),y=o(n(49)),b=o(n(65)),v=o(n(43)),g=o(n(39)),m=o(n(44)),w=o(n(38)),_=o(n(36)),O=o(n(32)),E=function(){function t(n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),e.finderApp=this,(0,a.default)("body").append(t.HTML).addClass("fnd"),(0,a.default)("#banner").html(n.title),this.pager=new f.default({target:"#facilities"}),this.map=new y.default({target:"map"}),this.source=new _.default({url:n.facilityUrl,format:new w.default({parentFormat:this.parentFomat(n.facilityFormat),decorations:this.decorations(n,n.facilityFormat)})}),this.source.autoLoad().then(a.default.proxy(this.ready,this)),this.layer=new O.default({source:this.source,style:n.facilityStyle}),this.map.addLayer(this.layer),this.popup=new g.default({map:this.map,layers:[this.layer]}),this.location={},new m.default({map:this.map,tips:[{layer:this.layer,label:function(e){return{html:e.getName()}}}]}),this.view=this.map.getView(),this.locationMgr=new v.default({map:this.map,url:n.geoclientUrl}),this.locationMgr.on("geocode",this.located,this),this.locationMgr.on("geolocate",this.located,this),this.filters=this.createFilters(n.filterChoiceOptions),this.tabs=this.createTabs(n),this.adjustTabs(),this.view.fit(y.default.EXTENT,{size:this.map.getSize(),duration:500}),this.showSplash(n.splashContent),new l.default({target:"#map"}),new h.default({target:"#map",languages:n.languages||p.default.DEFAULT_LANGUAGES,button:!0})}return r(t,[{key:"zoomTo",value:function(e){var t=this.popup;t.hide(),"none"!==(0,a.default)("h3.btn-0").css("display")&&this.tabs.open("#map"),this.map.once("moveend",function(){t.showFeature(e)}),this.view.animate({center:e.getGeometry().getCoordinates(),zoom:d.default.ZOOM_LEVEL})}},{key:"directionsTo",value:function(){}},{key:"createFilters",value:function(e){if(e){var t=new b.default({target:"#filters",source:this.source,choiceOptions:e});return t.on("change",this.resetList,this),t}}},{key:"showSplash",value:function(e){e&&(new s.default("splash").ok({message:e,buttonText:["Continue..."]}),(0,a.default)(".dia-msg").attr("tabindex",0).focus())}},{key:"createTabs",value:function(e){var t=[{tab:"#map",title:"Map"},{tab:"#facilities",title:e.facilityTabTitle||"Facilities"}];this.filters&&t.push({tab:"#filters",title:e.filterTabTitle||"Filters"});var n=new c.default({target:"#tabs",tabs:t});return n.on("change",this.resizeMap,this),(0,a.default)(window).resize(a.default.proxy(this.adjustTabs,this)),n}},{key:"adjustTabs",value:function(){1>Math.abs(this.tabs.getContainer().width()-(0,a.default)(window).width())?this.tabs.open("#map"):this.tabs.open("#facilities")}},{key:"resizeMap",value:function(){this.map.setSize([(0,a.default)("#map").width(),(0,a.default)("#map").height()])}},{key:"located",value:function(e){this.location=e,this.resetList()}},{key:"resetList",value:function(e){e instanceof b.default&&(0,a.default)("#tabs .btns h3.btn-2").addClass("filtered");var t=this.location.coordinate;this.popup.hide(),this.pager.reset(t?this.source.sort(t):this.source.getFeatures())}},{key:"parentFomat",value:function(e){return e.parentFomat||e}},{key:"decorations",value:function(e,n){var o=[t.FEATURE_DECORATIONS];return n.parentFomat&&n.parentFomat.decorations&&(o=o.concat(n.parentFomat.decorations)),n.decorations&&(o=o.concat(n.decorations)),e.decorations&&(o=o.concat(e.decorations)),o}},{key:"ready",value:function(e){var t=this.facilitySearchOptions||{};t.features=e,this.pager.reset(e),this.locationMgr.zoomSearch.setFeatures(t),i.default.ready((0,a.default)("body"))}}]),t}();E.handleButton=function(t){var n=(0,a.default)(t.currentTarget),o=n.data("feature");n.hasClass("map")?e.finderApp.zoomTo(o):e.finderApp.directionsTo(o)},E.FEATURE_DECORATIONS={html:function(){return(0,a.default)('<div class="facility"></div>').addClass(this.cssClass()).append(this.distanceHtml()).append(this.nameHtml()).append(this.addressHtml()).append(this.phoneButton()).append(this.emailButton()).append(this.websiteButton()).append(this.mapButton()).append(this.directionsButton())},getName:function(){throw"A getName decoration must be provided"},cssClass:function(){},getAddress1:function(){throw"A getAddress1 decoration must be provided to use default html method"},getAddress2:function(){return""},getCityStateZip:function(){throw"A getCityStateZip decoration must be provided to use default html method"},getPhone:function(){},getEmail:function(){},getWebsite:function(){},detailsHtml:function(){},nameHtml:function(){return(0,a.default)('<div class="name notranslate"></div>').html(this.getName())},addressHtml:function(){var e=(0,a.default)('<div class="addr"></div>').append('<div class="ln1">'+this.getAddress1()+"</div>");return this.getAddress2()&&e.append('<div class="ln2">'+this.getAddress2()+"</div>"),e.append('<div class="ln3">'+this.getCityStateZip()+"</div>")},mapButton:function(){return(0,a.default)('<a class="btn rad-all map" role="button">Map</a>').data("feature",this).click(E.handleButton)},directionsButton:function(){return(0,a.default)('<a class="btn rad-all dir" role="button">Directions</a>').data("feature",this).click(E.handleButton)},phoneButton:function(){var e=this.getPhone();if(e)return(0,a.default)('<a class="btn rad-all phone" role="button">'+e+"</a>").attr("href","tel:"+e)},emailButton:function(){var e=this.getEmail();if(e)return(0,a.default)('<a class="btn rad-all email" role="button">Email</a>').attr("href","mailto:"+e)},websiteButton:function(){var e=this.getWebsite();if(e)return(0,a.default)('<a class="btn rad-all web" target="blank" role="button">Website</a>').attr("href",e)},distanceHtml:function(){if(this.getDistance){var e=(0,a.default)('<div class="dist"></div>'),t=this.getDistance();return"ft"===t.units?e.html("&bull; "+(t.distance/5280).toFixed(2)+" mi &bull;"):e.html("&bull; "+(t.distance/1e3).toFixed(2)+" km &bull;")}},detailsCollapsible:function(){var e=this.detailsHtml();if(e)return new u.default({target:(0,a.default)('<div class="details"></div>'),title:"Details...",content:e,collapsed:!0}).getContainer()}},E.Options,E.HTML='<h1 id="banner"></h1><div id="map"></div><div id="tabs"></div><div id="facilities"></div><div id="filters"></div>',t.default=E}).call(this,n(5))},function(e){e.exports=ol.geom.Polygon},function(e){e.exports=ol.layer.Tile},function(e){e.exports=ol.source.XYZ},function(e){e.exports=ol.View},function(e){e.exports=ol.Map},function(e){e.exports=ol.tilegrid},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(72)),r={};r.TILE_GRID=o.default.createXYZ({minZoom:8,maxZoom:21}),t.default=r},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}o(n(0));var r=o(n(2)),a=o(n(11)),i=o(n(15)),u=o(n(24)),s=o(n(14)),l=o(n(1)),c=o(n(8)),f=o(n(4)),d=o(n(23)),p=o(n(10)),h=o(n(13)),y=o(n(22)),b=o(n(3)),v=o(n(12)),g=o(n(21)),m=o(n(9)),w=o(n(20)),_=o(n(19)),O=o(n(7)),E=o(n(6)),T=o(n(16)),j=o(n(73)),k=o(n(49)),x=o(n(47)),P=o(n(44)),C=o(n(66)),S=o(n(48)),A=o(n(43)),L=o(n(42)),M=o(n(41)),F=o(n(39)),B=o(n(46)),I=o(n(40)),N=o(n(57)),D=o(n(38)),R=o(n(35)),G=o(n(36));window.nyc=r.default,window.nyc.AutoComplete=a.default,window.nyc.BasemapHelper=i.default,window.nyc.Choice=u.default,window.nyc.Collapsible=s.default,window.nyc.Container=l.default,window.nyc.Dialog=c.default,window.nyc.EventHandling=f.default,window.nyc.Geoclient=d.default,window.nyc.Geocoder=p.default,window.nyc.LocalStorage=h.default,window.nyc.LocationMgr=y.default,window.nyc.Locator=b.default,window.nyc.MapLocator=v.default,window.nyc.ListPager=g.default,window.nyc.ReplaceTokens=m.default,window.nyc.Share=_.default,window.nyc.Tabs=w.default,window.nyc.ZoomSearch=O.default,window.nyc.lang={},window.nyc.lang.Translate=E.default,window.nyc.lang.Goog=T.default,window.nyc.ol=j.default,window.nyc.ol.Basemap=k.default,window.nyc.ol.FeaturePopup=x.default,window.nyc.ol.FeatureTip=P.default,window.nyc.ol.FinderApp=C.default,window.nyc.ol.LocalStorage=S.default,window.nyc.ol.LocationMgr=A.default,window.nyc.ol.Locator=L.default,window.nyc.ol.MapLocator=M.default,window.nyc.ol.MultiFeaturePopup=F.default,window.nyc.ol.Popup=B.default,window.nyc.ol.ZoomSearch=I.default,window.nyc.ol.format={},window.nyc.ol.format.CsvPoint=N.default,window.nyc.ol.format.Decorate=D.default,window.nyc.ol.source={},window.nyc.ol.source.AutoLoad=R.default,window.nyc.ol.source.FilterAndSort=G.default}]);